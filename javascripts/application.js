function update(e){updateFooter(e.dataset.name,e.dataset.url),updateInfo(e.dataset.info)}function updateFooter(e,t){var n=""===e?"hidden":"visible";document.querySelector(".footer").style.visibility=n,document.querySelector(".footer .title"),document.querySelector(".footer .title a").href=t,document.querySelector(".footer .title h1").innerHTML=e}function updateInfo(e){document.querySelector(".info h6").innerHTML=e}!function(e,t,n,i,s,o){"use strict";o.support.transition=function(){var t=function(){var t,n=e.createElement("GI"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==n.style[t])return i[t]}();return t&&{end:t}}();var r=0,a=function(n,s){var a=this,l={onBeforeInit:null,onReady:null,onViewPortUpdate:null,onItemChange:null,onDestroy:null,onShow:null,onHide:null,onContentLoading:null,onContentLoaded:null,margin:{top:10,bottom:10},scrollerElm:null,scrollOffset:150,arrows:!0,closebutton:!0,keyboardNavigation:!0,animationSpeed:300,autoscroll:!0,responsive:!0,initialWrapperHeight:600,dynamicHeight:!0,nextButtonClass:"",prevButtonClass:"",closeButtonClass:""},d="ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch,u=[33,34,35,36,37,38,39,40,27],h=!1,c=o.support.transition,p=!1,f=0,m=".GITheWall"+r,x={click:d?"touchstart":"click",mousedown:d?"touchstart":"mousedown",mouseup:d?"touchend":"mouseup",mousemove:d?"touchmove":"mousemove",mouseleave:d?"touchleave":"mouseleave"},v=o.extend(l,s);this.$el=n,this.$expanderWrapper=o('<div class="GI_TW_expander"></div>'),this.$contentPointer=o('<div class="GI_TW_pointer"></div>'),this.$expanderInner=o('<div class="GI_TW_expander-inner"></div>'),this.$list=o("> ul",this.$el).eq(0),this.$items=o("> li",this.$list),this.itemsLength=this.$items.length,this.currentIndex=null,this.currentRowIndex=null,this.$selectedli=null,this.selectedLiData=null,Function.prototype.debounce=function(e,t){var n,i,s=this;return function(){var o=this,r=arguments,a=function(){n=null,t||(i=s.apply(o,r))},l=t&&!n;return clearTimeout(n),n=setTimeout(a,e),l&&(i=s.apply(o,r)),i}};var I=function(e,t){"function"==typeof e&&o.proxy(e,a,t)()},$=function(){this.$expanderWrapper.append('<i class="GI_TW_arrow GI_TW_prev GI_TW_Controls"><span class="'+v.prevButtonClass+'"></span></i><i class="GI_TW_arrow GI_TW_next GI_TW_Controls"><span class="'+v.nextButtonClass+'"></span></i>'),this.$next=o(".GI_TW_next",this.$expanderWrapper),this.$prev=o(".GI_TW_prev",this.$expanderWrapper)},g=function(){a.$prev.toggleClass("GI_TW_hidden",a.currentIndex<=0),a.$next.toggleClass("GI_TW_hidden",a.currentIndex>=a.itemsLength-1)},w=function(e){return v.autoscroll?void o(v.scrollerElm||"html,body").animate({scrollTop:e}):!1},_=function(){a.$items.removeClass("GI_TW_Current").eq(a.currentIndex).addClass("GI_TW_Current")},W=function(){this.$contentPointer.css({left:this.selectedLiData.offset.left+this.$selectedli.width()/2})},y=function(e){var t=new o.Deferred,n=o(e).html();if(!n.length)throw new Error('No element can be found using the "'+e+'" selector');return a.$expanderInner.html(n),t.resolve(),t.promise()},T=function(e){var t=new o.Deferred,n=new Image;return n.onload=function(){a.$expanderInner.html('<div class="GI_TW_fullimg"><img src="'+e+'" /></div>'),t.resolve(),n=null},n.src=e,t.promise()},C=function(e){var t=new o.Deferred;return o.get(e,function(e){a.$expanderInner.html(e),t.resolve()}),t.promise()},G=function(e){this.$expanderInner.css({height:e}),e!==f&&(f=e,this.$expanderWrapper.stop(!0,!1).addClass(c?"animating":"")[c?"css":"animate"]({height:e},v.animationSpeed),this.updateElementsPosition())},L=function(){this.selectedLiData.index<0||this.selectedLiData.index>=this.itemsLength||(this.currentIndex=this.selectedLiData.index,this.loadInnerContents(),I(v.onItemChange,this.currentIndex))},b=function(e){this.isOpened()&&void 0===e.target.form&&(e.target.isContentEditable||(o.inArray(e.keyCode,u)>-1&&e.preventDefault(),39===e.keyCode?this.next():37===e.keyCode?this.prev():27===e.keyCode&&this.hideExpander()))},D=function(e){e.stopImmediatePropagation(),e.preventDefault();var t=o(e.currentTarget);t.hasClass("GI_TW_next")?this.next():this.prev()},E=function(){I(v.onBeforeInit),v.arrows&&($.call(this),g()),v.closebutton&&(this.$expanderWrapper.append('<div class="GI_TW_close GI_TW_Controls"><span class="'+v.closeButtonClass+'"></span></div>'),this.$closebutton=o(".GI_TW_items",this.$expanderWrapper)),this.$expanderWrapper.append(this.$contentPointer),this.$expanderWrapper.append(this.$expanderInner),this.$el.prepend(this.$expanderWrapper),this.bindAll(),I(v.onReady),r++};return this.setLisOffsets=function(){var e,t=0,n=0;this.$items.each(o.proxy(function(i,s){var r=o(s),a=r.data();r.removeClass("GI_TW_First GI_TW_Last GI_TW_Index-"+a.index+" GI_TW_Row-"+a.rowIndex);var l=!1,d=r.position(),u={top:~~d.top,left:~~d.left};(u.top>=t+3||u.top<=t-3)&&(e&&e.addClass("GI_TW_Last"),l=!0,n++),r.addClass((l?"GI_TW_First ":" ")+"GI_TW_Index-"+i+" GI_TW_Row-"+n),r.data({rowIndex:n,offset:u,index:i}),e=r,t=u.top},this))},this.setViewport=function(){h&&(this.setLisOffsets(),this.updateElementsPosition(),W.call(this),I(v.onViewPortUpdate))},this.loadInnerContents=function(){var e,t=this.$selectedli.find("a"),n=this.selectedLiData.href||t.attr("href");if(p=!0,this.$expanderInner.html('<div class="GI_TW_loading"></div>'),!n)return void console.warn("sorry.. it was not possible to load any content");switch(I(v.onContentLoading),this.selectedLiData.contenttype){case"ajax":e=C(n);break;case"inline":e=y(n);break;default:e=T(n)}e.then(function(){a.$expanderInner.css({height:"auto"});var e=v.dynamicHeight?a.$expanderInner.outerHeight():v.initialWrapperHeight;G.call(a,e),a.update(),w(a.$expanderWrapper.offset().top-v.scrollOffset),I(v.onContentLoaded),p=!1})},this.showExpander=function(e){return e.preventDefault(),this.$selectedli=o(e.currentTarget),this.selectedLiData=this.$selectedli.data(),h?void L.call(this):(h=!0,this.$expanderWrapper.addClass("opened"),this.setViewport(),L.call(this),void I(v.onShow))},this.hideExpander=function(){this.$expanderWrapper.removeClass("opened").stop(!0,!1)[c?"css":"animate"]({height:0},v.animationSpeed),this.$expanderInner.empty(),this.currentRowIndex=null,this.$selectedli=null,this.selectedLiData=null,this.currentIndex=null,f=0,this.$items.removeClass("GI_TW_Selected_Row").animate({marginBottom:0},v.animationSpeed),h=!1,I(v.onHide)},this.refresh=function(){this.$list=o("> ul",this.$el).eq(0),this.$items=o("> li",this.$list),this.$list.has(this.$selectedli).length||this.hideExpander(),this.itemsLength=this.$items.length,h&&(this.setLisOffsets(),this.update())},this.update=function(){this.selectedLiData=this.$selectedli.data(),W.call(this),this.selectedLiData.rowIndex!==this.currentRowIndex&&this.updateElementsPosition(),v.arrows&&g(),_.call(this),this.currentRowIndex=this.selectedLiData.rowIndex},this.updateElementsPosition=function(){this.$items.each(function(e,t){var n=o(t),i=n.data(),s=i&&i.rowIndex===a.selectedLiData.rowIndex;n.toggleClass("GI_TW_Selected_Row",s).stop(!0,!1)[c?"css":"animate"]({marginBottom:s?Number(f+v.margin.bottom):0},s?v.animationSpeed:0)}),this.setLisOffsets(),this.updateExpanderPosition()},this.updateExpanderPosition=function(){if(h){var e=this.selectedLiData.offset.top+this.$selectedli.height()+v.margin.top;this.$expanderWrapper.css({top:e})}},this.resizeHeight=function(e){G.call(this,e),this.setViewport()},this.showItemByIndex=function(e){var t=this.$items.eq(e);t.length&&(this.$selectedli=t,this.selectedLiData=t.data(),L.call(this))},this.isOpened=function(){return h},this.next=function(){!p&&h&&this.currentIndex!==this.itemsLength-1&&this.showItemByIndex(this.currentIndex+1)},this.prev=function(){!p&&h&&0!==this.currentIndex&&this.showItemByIndex(this.currentIndex-1)},this.bindAll=function(){c&&this.$expanderWrapper.on(c.end+m,function(){o(this).removeClass("animating")}),v.arrows&&this.$el.on(x.click+m,".GI_TW_arrow",this.$expanderWrapper,o.proxy(D,this)),v.closebutton&&this.$el.on(x.click+m,".GI_TW_close",this.$expanderWrapper,o.proxy(this.hideExpander,this)),this.$el.on("click"+m,"> ul > li",o.proxy(this.showExpander,this)),v.responsive&&i.on("resize"+m+" orientationchange"+m,o.proxy(this.setViewport.debounce(300),this)),v.keyboardNavigation&&i.on("keydown"+m,o.proxy(b,this))},this.unbindAll=function(){this.$el.off(m),this.$expanderWrapper.off(m)},this.destroy=function(e){e&&(e.preventDefault(),e.stopImmediatePropagation()),this.hideExpander(),this.unbindAll(),this.$expanderWrapper.remove(),I(v.onDestroy)},E.call(this),this};o.fn.GITheWall=function(e){return this.length?new a(this,e):void 0}}(document,window,$(document),$(window),$("body"),jQuery),$(document).ready(function(){$(".image-wall").GITheWall({onBeforeInit:null,onReady:null,onViewPortUpdate:null,onItemChange:null,onDestroy:null,onShow:null,onHide:null,onContentLoading:null,onContentLoaded:null,margin:{top:10,bottom:10},scrollerElm:null,scrollOffset:150,arrows:!0,closebutton:!0,keyboardNavigation:!0,animationSpeed:300,autoscroll:!0,responsive:!0,initialWrapperHeight:600,dynamicHeight:!0,nextButtonClass:"",prevButtonClass:"",closeButtonClass:""})}),$(document).ready(function(){$(".slider-wrapper").each(function(e,t){function n(e){var n=t.width(),i=t.position().left,s=e.pageX-i;return s>n/2}function i(e){return n(e)||!u()}function s(){g=g==v.length-1?0:g+1,r()}function o(){g--,r()}function r(){I.text(g+1)}function a(){if(!_&&l()){var e=g;s(),h(e,g)}}function l(){return w>g}function d(){if(!_&&u()){var e=g;o(),h(e,g)}}function u(){return g>0}function h(e,t){return _=!0,c(e,function(){return p(t,function(){_=!1})})}function c(e,t){return v[e].fadeOut(0,t)}function p(e,t){return v[e].fadeIn(0,t)}var t=$(t),f=$(".slider",t),m=f.attr("id"),x=$(".slider-controls[data-slider='"+m+"']"),v=f.children().map(function(e,t){return $(t)}),I=$("[data-slider-index][data-slider='"+m+"']"),g=0,w=v.length;console.log(m,I,w);var _=!1;x.find("[data-slider-action='next']").click(function(e){e.preventDefault(),a()}),x.find("[data-slider-action='previous']").click(function(e){e.preventDefault(),d()}),f.click(function(e){i(e)?a():d()}),f.mousemove(function(e){i(e)?($(this).removeClass("slider-point-previous"),$(this).addClass("slider-point-next")):($(this).removeClass("slider-point-next"),$(this).addClass("slider-point-previous"))}),v[0].show(),r()})});for(var elements=document.querySelectorAll("[data-name]"),i=0;i<elements.length;i++)!function(e){new Waypoint({element:e,handler:function(t){"down"===t&&(console.log("triggered down"),update(e))},offset:function(){return console.log("down",Waypoint.viewportHeight()),Waypoint.viewportHeight()-1}}),new Waypoint({element:e,handler:function(t){"up"===t&&(console.log("triggered up"),update(e))},offset:function(){return-e.clientHeight+Waypoint.viewportHeight()}})}(elements[i]);document.addEventListener("scroll",function(){0===window.scrollY&&updateFooter("","")});